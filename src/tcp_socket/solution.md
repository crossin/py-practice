# socket编程

### 【解决思路】

OSI的网络七层模型，已经永远地停留在了理论阶段。现在我们常用的是五层模型：物理层，链路层，网络层，传输层，应用层。其中，物理层和链路层，主要由硬件和操作系统内核实现。而我们今天介绍的socket，就是提供了一个封装了进程到进程之间（可以是远程主机之间）通信的网络层/传输层接口。

它最早源于BSD Unix系统，但是现在已经是网络通信的事实标准。一个标准的socket由ip地址+端口号构成。当然，还要区分是TCP还是UDP。前者有连接性，后者无连接性。我们今天就介绍介绍最常用的TCP socket。

一个socket处理的过程很简单：绑定端口，建立连接，循环接收/处理/发送消息。

（因此，在编程时，你需要注意你使用的端口号没有被占用，并且没有被防火墙阻拦）

基于这个简单的流程，我们几乎可以做任何事，甚至我们可以自己设计一套应用层协议！因为越是简单，其灵活性也就越大。



样例的代码很简单，在处理一个请求后，服务器端程序就运行结束了（其实是为了避免每次调试时都得kill进程）。在实际部署时，我们往往使用`while True:`的方式循环接受请求，并为每一个连接分配一个新的线程/进程来处理请求。有兴趣你可以尝试一下！